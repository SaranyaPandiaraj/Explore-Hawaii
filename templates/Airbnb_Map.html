
<!DOCTYPE html>
<html lang="en">
<head>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
    <title>Hawaii Map Visualization</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" type="text/javascript"></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.7/crossfilter.js' type='text/javascript'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/dc/1.7.1/dc.js' type='text/javascript'></script>
    <link href='http://cdnjs.cloudflare.com/ajax/libs/dc/1.7.1/dc.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <link rel="stylesheet" href="static/js/select2.css">
    <script src="static/js/select2.js"></script>
    <link href='static/css/insideairbnb.css' rel='stylesheet' type='text/css'>
</head>
<body class="multiCity includeAboutCity">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-7626447-6', 'auto');
  ga('send', 'pageview');

</script>
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '788070507939603',
      xfbml      : true,
      version    : 'v2.2'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>   
<div id="map"></div>  
    <div id="filterAndCountContainer" class="narrativePanelHeader">
        <p class="city">Hawaii</p>
        <div id="geoFilterContainer">
            <span class="filterLabel">Filter by:</span>
            <select id="geoFilters" class="js-states" style="width: 100%;">
            </select>        
        </div>
        <div id="summaryCountContainer" class="summaryCountContainer">
            <div id="summaryCount">##,###</div>
            <div id="summaryListingLabel">out of <b><span id="geoTotalListings">##,###</span></b> listings (<span id="summaryCountPercentage">##.#</span><span class="percentageSign">%</span>)</div>
        </div>
    </div>
   
      <div class="narrativePanelContent">
        <div class="leadIn">
            <p>How is Airbnb really being used in and affecting your neighborhoods?</p>
        </div>
        <div class="dimensionContainer clearfix">
            <label><input type="checkbox" name="filterEntireHomes" id="filterEntireHomes"> Only entire homes/apartments</label>
            <h2>Room Type</h2>
            <div class="dimensionMetricsContainer">
                <div class="dimensionMetricsHeadline">
                    <span id="summaryEntireHomePercentage">##.#</span><span class="percentageSign">%</span>
                </div>
                <div class="dimensionMetricsHeadlineLabel">
                    entire homes/apartments
                </div>  
                <div class="dimensionMetricsSecondary">
                    <span class="dollarSign">$</span><span id="summaryPrice">###</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    price/night
                </div> 
                <div class="dimensionMetricsSecondary">
                    <span id="summaryEntireHomeMetricsNumber">##,###</span> <span class="parentheses">(</span><span id="summaryEntireHomeMetricsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    entire home/apartments
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summaryPrivateRoomMetricsNumber" >#,###</span> <span class="parentheses">(</span><span id="summaryPrivateRoomMetricsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    private rooms
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summarySharedRoomMetricsNumber">#,###</span> <span class="parentheses">(</span><span id="summarySharedRoomMetricsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    shared rooms
                </div>
            </div>
            <div class="dimensionContent withChart">
                <p>Airbnb hosts can list entire homes/apartments, private or shared rooms.</p>
                <p>Depending on the room type, <a href="#availability">availability</a>, and <a href="#activity">activity</a>, an airbnb listing could be more like a hotel, disruptive for neighbors, taking away housing, and <a href="#" class="aboutTheLawLink">illegal</a>.</p>
            </div>
            <div id="dcRoomTypeChart" class="dimensionChart align-right"></div>
        </div>
        <div class="dimensionContainer clearfix">
                <label><input type="checkbox" name="filterRecentReviews" id="filterRecentReviews"> Only <span class="definition" data-toggle="tooltip" data-placement="top" title="recent: Listings with a review in the last 6 months.">recent</span> and <span class="definition" data-toggle="tooltip" data-placement="top" title="frequent: Listings with an estimated booking nights per year of >60 nights.">frequently</span> booked</label>
            <h2 id="activity">Activity</h2>
                <div class="dimensionMetricsContainer">
                    
                    <div id="summaryEstimatedNightsPerYear" class="dimensionMetricsHeadline">
                        ###
                    </div>
                    <div class="dimensionMetricsHeadlineLabel">
                        estimated nights/year
                    </div>
                    
                    <div id="summaryReviewsPerMonth" class="dimensionMetricsSecondary">
                        ##.#
                    </div>
                    <div class="dimensionMetricsSecondaryLabel">
                        reviews/listing/month
                    </div>

                    <div id="summaryNumberOfReviews" class="dimensionMetricsSecondary">
                        ###,###
                    </div>
                    <div class="dimensionMetricsSecondaryLabel">
                        reviews
                    </div>

                    <div class="dimensionMetricsSecondary">
                        <span class="dollarSign">$</span><span id="summaryPrice">###</span>
                    </div>
                    <div class="dimensionMetricsSecondaryLabel">
                        price/night
                    </div> 

                    <div class="dimensionMetricsSecondary">
                        <span id="summaryEstimatedOccupancy">##.#</span><span class="percentSign">%</span>
                    </div>
                    <div class="dimensionMetricsSecondaryLabel">
                        estimated occupancy
                    </div> 

                    <div class="dimensionMetricsSecondary">
                        <span class="dollarSign">$</span><span id="summaryEstimatedIncomePerMonth">###</span>
                    </div>
                    <div class="dimensionMetricsSecondaryLabel">
                        estimated income/month
                    </div>
                </div>
            <div class="dimensionContent withMetrics">
                <p>Airbnb guests may leave a review after their stay, and these can be used as an indicator of airbnb activity.</p>
                <p>The minimum stay, price and number of reviews have been used to estimate the <b>occupancy rate</b>, the number of <b>nights per year</b> and the <b>income per month</b> for each listing.</p>
                <p>How does the income from Airbnb compare to a long-term lease?</p>
                <p>Do the number of nights booked per year make it impossible for a listing to be used for residential housing?</p>
                <p>And what is renting to a tourist full-time rather than a resident doing to our neighborhoods and cities?</p>
            </div>
            <div id="reviewsChartContainer" class="unloaded">
                <a href="#" id="loadReviews">load reviews</a>
                <span id="iconLoadingReviews" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>
                <div id="dcReviewsChart" class="dimensionChart fullWidth">
                </div>
                <div id="playReviewsContainer">
                    <button id="playReviews" type="button" class="btn btn-default btn-circle"><i class="glyphicon glyphicon-play"></i></button> Animate reviews
                </div>
            </div>
        </div>
        <div class="dimensionContainer clearfix">
            <label><input type="checkbox" name="filterHighlyAvailable" id="filterHighlyAvailable"> Only highly available</label>
            <h2 id="availability">Availability</h2>
            <div class="dimensionMetricsContainer">
                <div class="dimensionMetricsHeadline">
                    <span class="summaryHighAvailabilityListingsPercentage">##.#</span><span class="percentageSign">%</span>
                </div>
                <div class="dimensionMetricsHeadlineLabel">
                    <span class="definition" data-toggle="tooltip" data-placement="top" title="high: > 60 days/year.">high</span> availability
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summaryHighAvailabilityListings">###</span> <span class="parentheses">(</span><span class="summaryHighAvailabilityListingsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    listings w <span class="definition" data-toggle="tooltip" data-placement="top" title="high: > 60 days/year.">high</span> availability
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summaryLowAvailabilityListings">###</span> <span class="parentheses">(</span><span id="summaryLowAvailabilityListingsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    listings w <span class="definition" data-toggle="tooltip" data-placement="top" title="low: <= 60 days/year.">low</span> availability
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summaryAvailabilityDays">###</span> <span class="parentheses">(</span><span id="summaryAvailabilityPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    days/year
                </div>
            </div>
            <div class="dimensionContent withMetrics">
                <p>An Airbnb host can setup a calendar for their listing so that it is only available for a few days or weeks a year.</p>
                <p>Other listings are available all year round (except for when it is already booked).</p>
                <p>Entire homes or apartments <span class="definition" data-toggle="tooltip" data-placement="top" title="highly available: > 60 days/year.">highly available</span> year-round for tourists, probably don't have the owner present, could be illegal, and more importantly, are displacing residents.</p>
            </div>
            <div id="availabilityChartsContainer">
                <div id="dcAvailabilityCategoriesPie" class="dimensionChart"></div>
                <div id="dcAvailability365Chart" class="dimensionChart fullWidth"></div>
            </div>
        </div>
        <div class="dimensionContainer clearfix" id="dimensionContainerMultiListing">
            <label><input type="checkbox" name="filterMultiListings" id="filterMultiListings"> Only multi-listings</label>
            <h2>Listings per Host</h2>
            <div class="dimensionMetricsContainer">
                <div class="dimensionMetricsHeadline">
                    <span id="summaryMultiHostPercentage">##.#</span></span><span class="percentageSign">%</span>
                </div>
                <div class="dimensionMetricsHeadlineLabel">
                    multi-listings
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summarySingleHostMetricsNumber">##,###</span> <span class="parentheses">(</span><span id="summarySingleHostMetricsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    single listings
                </div>
                <div class="dimensionMetricsSecondary">
                    <span id="summaryMultiHostMetricsNumber">#,###</span> <span class="parentheses">(</span><span id="summaryMultiHostMetricsPercentage">##.#</span><span class="percentageSign">%</span><span class="parentheses">)</span>
                </div>
                <div class="dimensionMetricsSecondaryLabel">
                    multi-listings
                </div>
            </div>
            <div class="dimensionContent withMetrics">
                <p>Some Airbnb hosts have multiple listings.</p>
                <p>A host may list separate rooms in the same apartment, or multiple apartments or homes available in their entirity.</p>
                <p>Hosts with multiple listings are more likely to be running a business, are unlikely to be living in the property, and in violation of most short term rental laws designed to protect residential housing.</p>
            </div>
            <div id="dcListingsPerHostChart" class="dimensionChart fullWidth"></div>
            <div id="topHostsToggleContainer"><a id="topHostsToggle" href="#"><span id="topHostsToggleIcon" class="glyphicon glyphicon-menu-down"></span> <span id="topHostsToggleAction">Show</span> top hosts</a></div>
            <div id="topHostsContainer">
                <table class="table table-hover table-striped table-condensed" id="topHostsTable">
                    <thead>
                        <tr>
                            <th data-field="host_id" class="col-md-8">Host Name</th>
                            <th data-field="count" class="col-md-4" data-align="right">
                                #Listings
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>   
            </div>
        </div>

        <div id="debugPanel">
        </div>
    </div><!--/.narrativePanelContent -->
<div id="listingHover">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="closeHover"><span aria-hidden="true">&times;</span></button>
    <div class="hostDetailsContainer">
        <p><a id="listingHost" target="_blank">[HOST NAME]</a></p> 
        <p id="listingHostCountContainer">(<span id="listingHostListingCount">##</span> other listings)</p>
    </div>
    <div class="listingDetailsContainer">
        <p id="listingIDContainer"><a id="listingID" target="_blank">#######</a></p>
        <p id="listingNameContainer"><a id="listingName" target="_blank">XXXXXXXXXXXXXXX</a></p>
        <p id="listingNeighbourhood">xxxxxxxxxxxxxxx</p>
        <p id="listingRoomType">[ROOM TYPE]</p>
    </div>
    <div id="listingPriceSection" class="listingSection">
        <p class="listingSectionHeadlineContainer">
            <span class="listingSectionHeadline"><span class="dollarSign">$</span><span id="listingEstimatedIncomePerMonth">###</span></span><span id="listingPriceLabel" class="listingSectionHeadlineLabel"> income/month (est.)</span>
        </p>
        <p class="listingSectionSubhead"><span class="dollarSign">$</span><span id="listingPrice">###</span></span> /night</p>
        <p class="listingSectionSubhead"><span id="listingMinimumNights">X</span> night minimum</p>
    </div>
    <div id="listingReviewsSection" class="listingSection">
        <p class="listingSectionHeadlineContainer">
            <span class="listingSectionSubhead"><span id="listingEstimatedNightsPerYear" class="listingSectionHeadline">x.x</span><span class="listingSectionHeadlineLabel"> nights/year (est.)</span></span>
        </p>
        <p class="listingSectionSubhead"><span id="listingEstimatedOccupancyRate">##.#</span>% occupancy rate (est.)</p>
        <p class="listingSectionSubhead"><span id="listingReviewPerMonth">x.x</span> reviews/month</p>
        <p class="listingSectionSubhead"><span id="listingNumberOfReviews" >###</span><span id="listingReviewsLabel"> reviews</span></p>
        <p class="listingSectionSubhead">last: <span id="listingLastReview">xx/xx/xxxx</span></p>
    </div>
    <div id="listingAvailabilitySection" class="listingSection">
        <p class="listingSectionHeadlineContainer">
            <span id="listingAvailabilityDescription" class="listingSectionHeadline">[HIGH/LOW]</span><span class="listingSectionHeadlineLabel"> availability</span>
        </p>
        <p class="listingSectionSubhead"><span id="listingAvailability365">xxx</span> days/year (<span id="listingAvailabilityPercentage">##.#</span>%)</p>
    </div>
    <p class="listingSection">click listing on map to "pin" details</p>
</div>
<div id="animationStatus">
    <p id="animationStatusMonth"></p>
    <p id="animationStatusYear"></p> 
</div>
<script src='static/js/insideairbnb-multicity-neighbourhoods.js' type='text/javascript'></script>
<script>
    city = "Hawaii";
    AVAILABILITY_DAYS_LOW = 60; //days
    REVIEW_RATE = 0.5;
    AVERAGE_NIGHTS = 3;
    showCityViewOnMapsForMobile = true;
    setupMap([20.8106685,-157.1930605],8, 11);
    neighbourhoodsName = "Districts";
    neighbourhoodGroupsNames = "Counties";
</script>
<script src='static/js/city.js' type='text/javascript'></script>
</body>

</html>